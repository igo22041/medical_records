# Система управления медицинскими записями

Веб-приложение для управления медицинскими записями с поддержкой двух ролей: пользователь и администратор.

## Функциональность

### Для пользователей:
- Регистрация и авторизация
- Добавление медицинских записей
- Просмотр своих записей
- Поиск записей по различным критериям
- Редактирование своих записей
- Удаление своих записей

### Для администраторов:
- Все функции пользователя
- Просмотр всех записей в системе
- Управление записями всех пользователей (редактирование, удаление)
- Поиск по всем записям

## Технологии

- PHP 7.4+
- MySQL
- PDO для работы с базой данных
- Чистый CSS для стилизации
- Сессии для аутентификации

## Установка

1. Убедитесь, что у вас установлены:
   - PHP 7.4 или выше
   - MySQL 5.7 или выше
   - Веб-сервер (Apache/Nginx) или встроенный PHP сервер

2. Клонируйте или скопируйте проект в директорию веб-сервера

3. Создайте базу данных:
   ```sql
   mysql -u root -p < database/init.sql
   ```
   Или импортируйте файл `database/init.sql` через phpMyAdmin

4. Настройте подключение к базе данных в файле `config/database.php`:
   ```php
   private $host = "localhost";
   private $db_name = "medical_records";
   private $username = "root";
   private $password = "";
   ```

5. Запустите веб-сервер:
   ```bash
   php -S localhost:8000
   ```

6. Откройте браузер и перейдите по адресу `http://localhost:8000`

## Тестовые учетные данные

### Администратор:
- Имя пользователя: `admin`
- Пароль: `admin123`

### Пользователь:
- Имя пользователя: `user`
- Пароль: `user123`

## Структура проекта

```
kursovoi/
├── admin/
│   └── dashboard.php          # Панель администратора
├── assets/
│   └── css/
│       └── style.css          # Стили приложения
├── config/
│   ├── database.php           # Подключение к БД
│   └── session.php            # Управление сессиями
├── database/
│   └── init.sql               # SQL скрипт инициализации БД
├── includes/
│   ├── header.php             # Шапка сайта
│   └── footer.php             # Подвал сайта
├── models/
│   ├── User.php               # Модель пользователя
│   └── MedicalRecord.php      # Модель медицинской записи
├── add_record.php             # Добавление записи
├── delete_record.php          # Удаление записи
├── edit_record.php            # Редактирование записи
├── index.php                  # Главная страница
├── login.php                  # Страница входа
├── logout.php                 # Выход из системы
├── records.php                # Список записей
├── register.php               # Регистрация
├── view_record.php            # Просмотр записи
└── README.md                  # Документация
```

## Безопасность

- Пароли хешируются с помощью `password_hash()`
- Используется подготовленные запросы (prepared statements) для защиты от SQL-инъекций
- Данные пользователя экранируются с помощью `htmlspecialchars()`
- Проверка прав доступа на уровне сессий
- Валидация входных данных

## Лицензия

Этот проект создан в образовательных целях для курсовой работы.

